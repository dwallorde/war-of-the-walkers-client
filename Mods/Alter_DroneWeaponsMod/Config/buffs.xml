<config>
	<append xpath="/buffs/buff[@name='buffStatusCheck02']">
		<effect_group>
			<passive_effect name="CraftingTier" operation="base_set" value="1" tags="modRoboticDroneWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneWeaponMod" operation="LTE" value="1"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="2" tags="modRoboticDroneWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneWeaponMod" operation="Equals" value="2"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="3" tags="modRoboticDroneWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneWeaponMod" operation="Equals" value="3"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="4" tags="modRoboticDroneWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneWeaponMod" operation="Equals" value="4"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="5" tags="modRoboticDroneWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneWeaponMod" operation="GTE" value="5"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="1" tags="modRoboticDroneRifleWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneRifleWeaponMod" operation="LTE" value="1"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="2" tags="modRoboticDroneRifleWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneRifleWeaponMod" operation="Equals" value="2"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="3" tags="modRoboticDroneRifleWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneRifleWeaponMod" operation="Equals" value="3"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="4" tags="modRoboticDroneRifleWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneRifleWeaponMod" operation="Equals" value="4"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="5" tags="modRoboticDroneRifleWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneRifleWeaponMod" operation="GTE" value="5"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="1" tags="modRoboticDroneShotgunWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneShotgunWeaponMod" operation="LTE" value="1"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="2" tags="modRoboticDroneShotgunWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneShotgunWeaponMod" operation="Equals" value="2"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="3" tags="modRoboticDroneShotgunWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneShotgunWeaponMod" operation="Equals" value="3"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="4" tags="modRoboticDroneShotgunWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneShotgunWeaponMod" operation="Equals" value="4"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="5" tags="modRoboticDroneShotgunWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneShotgunWeaponMod" operation="GTE" value="5"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="1" tags="modRoboticDroneStunWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneStunWeaponMod" operation="LTE" value="1"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="2" tags="modRoboticDroneStunWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneStunWeaponMod" operation="Equals" value="2"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="3" tags="modRoboticDroneStunWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneStunWeaponMod" operation="Equals" value="3"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="4" tags="modRoboticDroneStunWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneStunWeaponMod" operation="Equals" value="4"/>
			</passive_effect>
			<passive_effect name="CraftingTier" operation="base_set" value="5" tags="modRoboticDroneStunWeaponMod">
				<requirement name="CVarCompare" cvar="modRoboticDroneStunWeaponMod" operation="GTE" value="5"/>
			</passive_effect>
		</effect_group>
	</append>
	<append xpath="/buffs">
		<buff name="buffShockedDrone">
			<damage_type value="electrical"/>
			<stack_type value="duration"/>
			<duration value="1"/>
			<update_rate value="1"/>
			<effect_group>
				<passive_effect name="HealthChangeOT" operation="base_add" value="-5"/>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_electric_shock" parent_transform="Spine1" local_offset="0,-.2,0"/>
				<triggered_effect trigger="onSelfEnteredGame" action="AttachParticleEffectToEntity" particle="p_electric_shock" parent_transform="Spine1" local_offset="0,-.2,0"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
				<triggered_effect trigger="onSelfBuffFinish" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="ETrapHit" operation="set" value="0"/>
				<triggered_effect trigger="onSelfLeaveGame" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
			</effect_group>
			<effect_group>
				<passive_effect name="RunSpeed" operation="perc_subtract" value=".9,.05" duration="0,2"/>
				<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9,.05" duration="0,2"/>
				<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9,.05" duration="0,2"/>
				<passive_effect name="JumpStrength" operation="perc_subtract" value=".9,.05" duration="0,2"/>
			</effect_group>
		</buff>
		<buff name="droneMeshUpdate" hidden="true">
			<update_rate value=".5"/>
			<effect_group>
				<requirement name="DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneStunWeaponMod"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AttachPrefabToEntity" prefab="#@modfolder:Resources/resources.unity3d?modRoboticDroneStunWeaponMod" parent_transform="WristRight"/>
			</effect_group>
			<effect_group>
				<requirement name="!DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneStunWeaponMod"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemovePrefabFromEntity" prefab="modRoboticDroneStunWeaponMod"/>
			</effect_group>
			<effect_group>
				<requirement name="DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneShotgunWeaponMod"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AttachPrefabToEntity" prefab="#@modfolder:Resources/resources.unity3d?modRoboticDroneShotgunWeaponMod" parent_transform="WristRight"/>
			</effect_group>
			<effect_group>
				<requirement name="!DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneShotgunWeaponMod"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemovePrefabFromEntity" prefab="modRoboticDroneShotgunWeaponMod"/>
			</effect_group>
			<effect_group>
				<requirement name="DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneRifleWeaponMod"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AttachPrefabToEntity" prefab="#@modfolder:Resources/resources.unity3d?modRoboticDroneRifleWeaponMod" parent_transform="WristRight"/>
			</effect_group>
			<effect_group>
				<requirement name="!DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneRifleWeaponMod"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemovePrefabFromEntity" prefab="modRoboticDroneRifleWeaponMod"/>
			</effect_group>
			<effect_group>
				<requirement name="DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneSpeakerMod"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AttachPrefabToEntity" prefab="#@modfolder:Resources/resources.unity3d?modRoboticDroneSpeaker" parent_transform="Base"/>
			</effect_group>
			<effect_group>
				<requirement name="!DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneSpeakerMod"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemovePrefabFromEntity" prefab="modRoboticDroneSpeaker"/>
			</effect_group>
			<effect_group>
				<requirement name="!DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneWeaponMod"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" transform_path="machineGun_LOD0" active="false"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" transform_path="machineGun_LOD1" active="false"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" transform_path="machineGun_LOD2" active="false"/>
			</effect_group>
			<effect_group>
				<requirement name="DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneWeaponMod"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" transform_path="machineGun_LOD0" active="true"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" transform_path="machineGun_LOD1" active="true"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" transform_path="machineGun_LOD2" active="true"/>
			</effect_group>
			<effect_group>
				<requirements compare_type="or">
					<requirement name="DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneStunWeaponMod"/>
					<requirement name="DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneShotgunWeaponMod"/>
					<requirement name="DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneWeaponMod"/>
					<requirement name="DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneRifleWeaponMod"/>
				</requirements>
				<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" transform_path="junkDroneArmRight_LOD0" active="false"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" transform_path="junkDroneArmRight_LOD1" active="false"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" transform_path="junkDroneArmRight_LOD2" active="false"/>
			</effect_group>
			<effect_group>
				<requirement name="!DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneStunWeaponMod"/>
				<requirement name="!DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneShotgunWeaponMod"/>
				<requirement name="!DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneWeaponMod"/>
				<requirement name="!DroneHasMod, DroneWeaponsMod" mod="modRoboticDroneRifleWeaponMod"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" transform_path="junkDroneArmRight_LOD0" active="true"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" transform_path="junkDroneArmRight_LOD1" active="true"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="SetTransformActive" transform_path="junkDroneArmRight_LOD2" active="true"/>
			</effect_group>
		</buff>
	</append>
</config>